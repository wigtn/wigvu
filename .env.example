# WIGVU Environment Variables (for docker-compose)
# 3-Service Architecture: Web → API → AI

# ===========================================
# Required: API Keys
# ===========================================
# YouTube Data API v3 (video metadata)
YOUTUBE_API_KEY=your-youtube-api-key

# OpenAI API key (AI analysis & translation)
OPENAI_API_KEY=sk-your-openai-api-key

# OpenAI model (gpt-4o-mini recommended for cost efficiency)
OPENAI_MODEL=gpt-4o-mini

# Internal API key (API ↔ AI server auth)
# Generate: openssl rand -hex 16
INTERNAL_API_KEY=your-32-char-random-string-here

# ===========================================
# Supabase (Auth + Database)
# ===========================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ===========================================
# Frontend
# ===========================================
FRONTEND_URL=http://localhost:3000

# CORS origins (comma-separated, empty = allow all in dev)
CORS_ORIGINS=

# ===========================================
# STT Configuration
# ===========================================
# WhisperX STT server URL
STT_API_URL=your-STT-server-URL

# Max video length for STT (minutes)
STT_MAX_DURATION_MINUTES=25

# ===========================================
# AI Service Configuration
# ===========================================
# Max upload file size (MB)
MAX_FILE_SIZE_MB=500

# Rate Limiting (requests per minute)
RATE_LIMIT_ANALYZE=30
RATE_LIMIT_STT=10
MAX_CONCURRENT_REQUESTS=10

# Retry Settings
RETRY_MAX_ATTEMPTS=3
RETRY_BASE_DELAY=1.0

# Timeouts (seconds)
TIMEOUT_ANALYZE=30
TIMEOUT_STT=300
TIMEOUT_HEALTH=5

# Validation Limits
MAX_TITLE_LENGTH=200
MAX_CHANNEL_LENGTH=100
MAX_DESCRIPTION_LENGTH=2000
MAX_TRANSCRIPT_LENGTH=10000
MAX_SEGMENTS_COUNT=1000

# Logging (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO
